<!-- (scroll)="handleShowScrollArrow($event)" -->
<div class="app-root">
<div id="content-scrollable" class="container">
  
  <div *ngIf="!isLoginKiosk || (kioskStatus$ | async) === 'REGISTERED'; else kioskStatusBlock" class="flex-container-column">
    <router-outlet></router-outlet>
    <app-footer *ngIf="!helper.view"></app-footer>
  </div>

  <!-- Template para bloqueos de estado del Kiosco -->
  <ng-template #kioskStatusBlock>
    <app-kiosk-guard></app-kiosk-guard>
  </ng-template>

  <!-- Carrusel de publicidad - Solo en vista de inicio -->
  <!-- ðŸš© DESHABILITADO: Para habilitar cambiar ENABLE_AD_CAROUSEL a true en app.component.ts -->
  <app-ad-carousel 
    *ngIf="showAdCarousel && !helper.view && !(adminPanelOpen$ | async)" 
    (touch)="hideAdCarousel()"
    (click)="hideAdCarousel()">
  </app-ad-carousel>

    <!-- * Arrow button to scroll up -->
    <!-- <button class="arrow_up animated faster" (click)="scrollToTop()" [class.fadeInUp]="showScrollArrow"
    [class.fadeOutDown]="!showScrollArrow">
    <img src="../assets/images/arrow_up.png" alt="Ir hacia arriba">
  </button> -->
</div>

  <!-- Pantalla de inactividad: iframe a pantalla completa, botÃ³n superpuesto abajo (entrada/salida suave) -->
  <div class="idle-page-overlay" [class.idle-page-overlay--visible]="showIdlePage" [attr.aria-hidden]="!showIdlePage">
    <div class="idle-page-iframe-zone">
      <iframe [src]="idlePageUrlSafe" class="idle-page-iframe" title="PÃ¡gina de inactividad"></iframe>
    </div>
    <div class="idle-page-button-zone" (click)="onIdleButtonInteraction($event)" (touchstart)="onIdleButtonInteraction($event)">
      <div class="idle-page-chevron" aria-hidden="true">
        <i class="fa fa-chevron-down"></i>
      </div>
      <button type="button" class="idle-page-btn" (click)="onIdleButtonInteraction($event)" (touchstart)="onIdleButtonInteraction($event)">Empezar</button>
    </div>
  </div>
</div>

<div class="payment-method-selector">
  <!-- <h2 class="selector-title">Seleccione el método de pago</h2> -->
  
  <div class="methods-grid">
    <div 
      *ngFor="let method of paymentMethods" 
      class="method-card"
      [class.selected]="selectedMethod === method.id"
      (click)="selectMethod(method.id)"
    >
      <div class="card-header">
        <div class="icon-container" [innerHTML]="getMethodIcon(method.icon)"></div>
        <button 
          type="button"
          class="info-button" 
          (click)="toggleInfo(method.id, $event)"
          [attr.aria-label]="'Información sobre ' + method.name"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
            <path fill="currentColor" d="M11 9h2V7h-2m1 13c-4.41 0-8-3.59-8-8s3.59-8 8-8s8 3.59 8 8s-3.59 8-8 8m0-18A10 10 0 0 0 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2m-1 15h2v-6h-2z"/>
          </svg>
        </button>
      </div>
      
      <div class="card-body">
        <h3 class="method-name">{{ method.name }}</h3>
        <p class="method-description">{{ method.description }}</p>
      </div>

      <!-- Popover de información -->
      <div 
        class="info-popover" 
        *ngIf="showInfoPopover === method.id"
        (click)="$event.stopPropagation()"
      >
        <button 
          type="button"
          class="close-popover" 
          (click)="closeInfo()"
          aria-label="Cerrar información"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
            <path fill="currentColor" d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12z"/>
          </svg>
        </button>
        <p class="popover-text">{{ method.infoText }}</p>
      </div>
    </div>
  </div>
</div>

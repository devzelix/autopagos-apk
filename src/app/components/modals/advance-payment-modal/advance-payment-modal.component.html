<div *ngIf="isOpen" class="modal-overlay" (click)="closeModal()">
    <div class="modal-container" (click)="$event.stopPropagation()">

        <button class="close-btn" (click)="closeModal()">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                <path fill="currentColor"
                    d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12z" />
            </svg>
        </button>

        <p class="modal-title">Selecciona cu√°ntos meses deseas adelantar adicionalmente</p>

        <div class="counter-section">
            <button class="counter-btn" (click)="decrementMonth()" [disabled]="selectedAdvanceMonth <= 1">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M19 13H5v-2h14z" />
                </svg>
            </button>

            <div class="counter-display">
                <div class="counter-number">{{ selectedAdvanceMonth }}</div>
                <div class="counter-label">{{ selectedAdvanceMonth > 1 ? 'MESES' : 'MES' }}</div>
            </div>

            <button class="counter-btn" (click)="incrementMonth()" [disabled]="selectedAdvanceMonth >= 3">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z" />
                </svg>
            </button>
        </div>

        <div class="price-display">
            <div class="price-row">
                <span class="price-label">Monto Bs:</span>
                <span class="price-value">{{ calculateAdvanceAmountBs(selectedAdvanceMonth) | number:'1.2-2' }}</span>
            </div>
            <div class="price-row">
                <span class="price-label">Monto USD:</span>
                <span class="price-value">{{ calculateAdvanceAmountUSD(selectedAdvanceMonth) | currency }}</span>
            </div>
        </div>

        <button class="confirm-btn" (click)="confirmAdvancePayment()">
            Continuar
        </button>

    </div>
</div>
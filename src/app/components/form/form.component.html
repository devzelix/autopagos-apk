<app-welcome-view *ngIf="!showFormView"
  (showFormEmitter)="handleShowFormView(true)">
</app-welcome-view>

<form class="form-login w-full" id="form-offer" *ngIf="!showStateTable && showFormView">

  <div class="form-login__offer">
    <span
      class="button-link__bold button-link button__secondary btn-width-70 fancy_shadow main-title-login-container flex flex-col gap-2.5">
      <!-- <p>Registre su pago</p>
      <p>Servicio de Internet</p> -->
      <img class="fibex-main-title-logo" src="assets/images/fibex-logo-positive.png" alt="Fibex Telecom Logo">
      <h1 class="main-title-login text-3xl">Registre su pago de <strong>Internet!</strong></h1>
    </span>
  </div>

  <!-- [className]="nameClient ? 'form-login__group2 fancy_shadow' : 'form-login__group fancy_shadow'" -->
  <div class="form-login__group fancy_shadow" [ngClass]="nameClient ? 'form-login__group2' : ''">

    <!-- FORMAS DE PAGO --->
    <!--  <button
      *ngIf="AppFibex"
      class="btn-flotante left"
      title="Últimos pagos"
      (click)="openInfoPay()"
    >
      <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M7 9V7h14v2zm0 4v-2h14v2zm0 4v-2h14v2zM4 9q-.425 0-.712-.288T3 8t.288-.712T4 7t.713.288T5 8t-.288.713T4 9m0 4q-.425 0-.712-.288T3 12t.288-.712T4 11t.713.288T5 12t-.288.713T4 13m0 4q-.425 0-.712-.288T3 16t.288-.712T4 15t.713.288T5 16t-.288.713T4 17"/></svg>
    </button>
    <button
      *ngIf="AppFibex"
      class="btn-flotante right"
      title="Formas de Pago"
      (click)="openDialogPM()"
    >
      <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.195 8.765A4 4 0 1 1 12 14v1m.05 4v.1h-.1V19z"/></svg>
    </button> -->

    <!-- Mensajes de alerta -->
    <div>
      <h3 class="message-succes" *ngIf="payReported && !playDuplicated" (click)="payReported = !payReported">
        Gracias por su pago, el mismo se encuentra en proceso de conciliación el
        cual dura entre 24 a 48 horas ({{ Contar }})
      </h3>
      <h3 class="message-succes" *ngIf="CuentaAnulada && !playDuplicated" (click)="CuentaAnulada = !CuentaAnulada">
        No es posible registrar su pago porque se cuenta está ANULADA o RETIRADA
        ({{ Contar }})
      </h3>
      <h3 class="message-warning" *ngIf="playDuplicated && !payReported" (click)="playDuplicated = !playDuplicated">
        No es posible registrar el mismo pago dos veces ({{ Contar }})
      </h3>
      <h3 class="message-warning" *ngIf="ErrorRegistrando">
        {{ MessageErrorRegistrado }} ({{ Contar }})
      </h3>
    </div>
    <!-- Mensajes de alerta -->

    <div *ngIf="
        !payReported ||
        (CuentaAnulada && !playDuplicated) ||
        ErrorRegistrando ||
        (playDuplicated && !payReported)
      " class="section-step-container">
      <div *ngIf="AppFibex" class="links-nav-btns-container">

        <button *ngIf="AppFibex && navActive !== ENUM_NAV.LOGIN" (click)="goStepBack()"
          class="links-btn-navigation nav-back">
          <svg class="text-3xl" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 48 48">
            <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"
              d="M31 36L19 24l12-12" />
          </svg>
          <p>
            Atrás
          </p>
        </button>

      </div>

      <div *ngIf="AppFibex && userGreeting" class="subtitle-info">
        <h1 class="name-client text-2xl txt-dark">
          {{ userGreeting }}
        </h1>
      </div>

      <!-- Menú ppal si la ruta no tiene la cedula del cliente -->
      <!-- showDniForm && !AppFibex -->
      <div *ngIf="navActive === ENUM_NAV.LOGIN" class="section-step-item keypad-form-step">

        <app-tab-dni
            (typeDNIEmitter)="onLoginTypeChange($event)"
        >
        </app-tab-dni>

        <div class="form-dni-keyboard-container flex gap-8">

          <div class="form-dni-section">

            <div class="form-login__item" fxFlex="1 0 auto" fxLayout="column">

              <!-- ngIf="listContratos.length < 1 && !LoadingLengthAbonado" -->
              <div div="form-control-item-container"
                [formGroup]="firstFormFibex">
                <!-- <label>Cédula/RIF del cliente</label>
                <input
                  formControlName="dni"
                  type="number"
                  matInput
                  required
                  NumbersOnly="true"
                  #inputDni
                  [readonly]="readonlyDNI"
                  minlength="6"
                /> -->


                <!-- SOLO PARA DESARROLLO Y PRUEBAS >>> (click)="testNextPage()" -->
                <label (click)="testNextPage()" class="form-control-label">
                  {{ loginTypeSelectValue === 'V' ? 'Cédula del cliente' : loginTypeSelectValue === 'J' ? 'Jurídico' : 'Extranjero' }}
                </label>

                <div class="form-control-input form-dni-input">
                  <!-- <select #selectType (change)="onLoginTypeChange(selectType.value)">
                    <option value="V" selected>V</option>
                    <option value="J">J</option>
                  </select> -->
                  <h4
                    [ngClass]="{'form-input-empty': (firstFormFibex.get('dni')?.value.length === 0), 'dni-juridico-type':loginTypeSelectValue === 'J' }">
                    {{ (firstFormFibex.get('dni')?.value) ? firstFormFibex.get('dni')?.value : '_____' }}
                  </h4>
                </div>


                <p class="form-control-error-text"
                  *ngIf="firstFormFibex.get('dni')?.dirty && firstFormFibex.get('dni')?.hasError('required')">
                  La cédula es requerida
                </p>
              </div>

              <div class="login-form-btns-section relative -mb-8 flex gap-4 w-full flex-col">
                <!-- listContratos.length < 1 && !LoadingLengthAbonado && (listContratos.length == 0 || listContratos.length == 1) -->
                <button
                  class="form-control-btn" type="button" role="button"
                  (click)="goToPayment()" [disabled]="dni?.invalid">
                  Pagar
                  <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M9 4h10v14a2 2 0 0 1-2 2H9m3-5l3-3m0 0l-3-3m3 3H5"/></svg>
                </button>
                <button
                  class="form-control-btn" type="button" role="button"
                  (click)="checkLatestPayments()" [disabled]="dni?.invalid">
                  Consultar últimos pagos
                  <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M20 4H4a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1M4 2a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h16a3 3 0 0 0 3-3V5a3 3 0 0 0-3-3zm2 5h2v2H6zm5 0a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2zm-3 4H6v2h2zm2 1a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2h-6a1 1 0 0 1-1-1m-2 3H6v2h2zm2 1a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2h-6a1 1 0 0 1-1-1" clip-rule="evenodd"/></svg>
                </button>

              </div>

              <!--  En caso de tener dos o más abonados -->

              <div class="account-selector-container" *ngIf="false">

                <!-- En caso de tener dos o más abonados -->
                <h3 class="message-succes" *ngIf="listContratos.length > 1">
                  Por favor seleccione su Nro. de Abonado
                </h3>
                <div *ngIf="LoadingLengthAbonado" class="spinner-pay">
                  <mat-spinner></mat-spinner>
                </div>
                <div *ngIf="listContratos.length > 1 && !LoadingLengthAbonado"
                  class="grid-cards cards-abonados animated fadeInUp">
                  <button *ngFor="let contrato of listContratos" class="grid-cards-item"
                    (click)="contractSelected(contrato, true)">
                    <h3>
                      {{ contrato.contrato }}
                    </h3>
                    <p *ngIf="contrato.sector">
                      {{ contrato.sector }}
                    </p>
                    <p>
                      {{ contrato.status_contrato }}
                    </p>
                  </button>
                </div>

              </div>

            </div>
          </div>

          <!-- listContratos.length < 1 && !LoadingLengthAbonado -->
          <app-keyboard-on-screen
            [isValidEnterBtn]="!dni?.invalid" classes="pinpad-big-size" (valorTeclado)="onTecladoInput($event)"
            (deleteKeyEmitter)="deleteLastCharacter()"
            (enterEmitter)="searchServicesv2(firstFormFibex.get('dni'), false, true)">
          </app-keyboard-on-screen>

        </div>

      </div>

      <!--/ Fin de Menú ppal -->

      <!-- Menú de métodos de pago -->
      <!-- AppFibex && !showDniForm &&  -->
      <!-- <div *ngIf="navActive === ENUM_NAV.MAIN_MENU " class="CardPpal" class="section-step-item flex-column-stepper">

        <div *ngIf="
                nameClient &&
                saldoBs &&
                saldoUSD &&
                registerPayService.linkedToContractProcess != 'approved' &&
                showMainMenuPage2
                " class="flex gap-8">


          <div class="desc-user w-1/2 flex-col">

            <div *ngIf="userServices" class="slider-services-container">
              <h3 class="mb-2"> Servicio{{ (userServices.length > 1) ? 's' : ''}} que posee :</h3>
              <div class="slider-services flex w-full gap-4 overflow-auto pb-4">

                <div *ngFor="let service of userServices" class="slider-service-item">
                  <h3>{{ service }}</h3>
                </div>

              </div>
            </div>



          </div>

          <div class="step-payment-type-btn-container">

            <h4 class="name-client text-center text-base">
              {{ saldoUSD | negativeAmount }} USD |
              {{ saldoBs | negativeAmount }} Bs {{ saldoText }}
            </h4>

            <button class="step-payment-type-btns last-payment-btn" title="Consultar últimos pagos"
              (click)="openInfoPay()">
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
                <path fill="currentColor"
                  d="M7 9V7h14v2zm0 4v-2h14v2zm0 4v-2h14v2zM4 9q-.425 0-.712-.288T3 8t.288-.712T4 7t.713.288T5 8t-.288.713T4 9m0 4q-.425 0-.712-.288T3 12t.288-.712T4 11t.713.288T5 12t-.288.713T4 13m0 4q-.425 0-.712-.288T3 16t.288-.712T4 15t.713.288T5 16t-.288.713T4 17" />
              </svg>
              <p>
                Consultar últimos pagos
              </p>
            </button>

            <button class="step-payment-type-btns payment-types-btn" title="Formas de Pago" (click)="openDialogPM()">
              <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
                <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M8.195 8.765A4 4 0 1 1 12 14v1m.05 4v.1h-.1V19z" />
              </svg>
              <p>
                Formas de Pago
              </p>
            </button>

          </div>

        </div>


        <ng-template matStepLabel>Tipo de pago</ng-template>
        <div class="spinner-pay">
          <mat-spinner *ngIf="LoadingPagoPendiente"></mat-spinner>
        </div>
        <div *ngIf="!PagoPendiente && !LoadingPagoPendiente" class="cardflex">
          <div *ngFor="let option of PagoMetodosHTML2" class="unicard width_full"
            [ngClass]="{ hide: option.tipopago === 'Criptomoneda' }">
            <span [ngSwitch]="option.tipopago" class="opt-cards-container-size" (click)="showConsole(option)">
              <span *ngSwitchCase="'FormasDePago'" class="grid-cards animated fadeInUp">
                <button *ngIf="!option.omitir" class="grid-cards-item forma-pago grid-cards-btn-with-icons"
                  (click)="FormaPago(option.idpago)">
                  <h3>
                    {{ option.tittle }}
                  </h3>
                  <svg *ngIf="option.tittle === 'Reportar'" class="grid-cards-btn-icon report-pay-icon"
                    xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
                    <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                      stroke-width="2"
                      d="M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3h-5l-5 3v-3H6a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3zm-6 4v3m0 3v.01" />
                  </svg>
                  <svg *ngIf="option.tittle === 'Pagar'" class="grid-cards-btn-icon payment-icon"
                    xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 32 32">
                    <path fill="currentColor"
                      d="M2 9.5A4.5 4.5 0 0 1 6.5 5h19A4.5 4.5 0 0 1 30 9.5v13a4.5 4.5 0 0 1-4.5 4.5h-19A4.5 4.5 0 0 1 2 22.5zM6.5 7A2.5 2.5 0 0 0 4 9.5V11h24V9.5A2.5 2.5 0 0 0 25.5 7zM4 22.5A2.5 2.5 0 0 0 6.5 25h19a2.5 2.5 0 0 0 2.5-2.5V13H4zM21 19h3a1 1 0 1 1 0 2h-3a1 1 0 1 1 0-2" />
                  </svg>
                </button>
              </span>

            </span>
          </div>
        </div>


        <div *ngIf="
            nameClient &&
            saldoBs &&
            saldoUSD &&
            registerPayService.linkedToContractProcess == 'approved'
          " class="desc-user">
          <div>
            <h4 class="name-client">CI/RIF: {{ nameClient }}</h4>
            <h4 class="name-client">
              Monto a Pagar: {{ saldoUSD | negativeAmount }} USD |
              {{ saldoBs | negativeAmount }} Bs
            </h4>
          </div>
        </div>

        <button *ngIf="BackFormaPago && !LoadingPagoPendiente" class="customized_btn_next width_full"
          (click)="FormaPago(31)">
          REGRESAR
        </button>
      </div> -->
      <!-- / Fin de métodos de pago -->

      <!-- PAYMENT CARDS STEP -->
      <div *ngIf="navActive === ENUM_NAV.PAYMENT_CARDS" class="section-step-item">
        <!-- <h6 class="txt-dark text-2xl font-bold text-center mb-6"> Seleccione su tipo de pago </h6> -->

        <!-- <div *ngIf="!PagoPendiente && !LoadingPagoPendiente" class="cardflex">
          <div *ngFor="let option of PagoMetodosHTML2" class="unicard width_full"
            [ngClass]="{ hide: option.tipopago === 'Criptomoneda' }">
            <span [ngSwitch]="option.tipopago" class="opt-cards-container-size">

              <span *ngSwitchDefault class="flex_center cardflex2">
                <button *ngIf="!option.omitir" class="fancy_card animated fadeInUp" (click)="TipoPago(option.idpago)">
                  <h5 class="TitlePerson text-gray-800 payment-type-title text_ellipsis">{{ option.tipopago }}</h5>
                  <img style="width: 100%" src="{{ option.image }}" alt="{{ option.alt }}" />
                </button>
              </span>

            </span>
          </div>
        </div> -->
        <div class="payment-menu-content w-full flex justify-center txt-dark flex-col">

          <div class="payment-menu-subscription-section">
            <h4 class="name-client text-center text-base">
              {{ saldoUSD | negativeAmount }} USD |
              {{ saldoBs | negativeAmount }} Bs <strong>{{ saldoText }}</strong>
            </h4>
          </div>


          <!-- UNIQUE PAYMENT -->
          <app-unique-payment
            [tasaCambio]="tasaCambio"
            [saldoBs]="saldoBs"
            [saldoUSD]="saldoUSD"
            [mountTotalMonthUSD]="mountTotalMonthUSD"
            [mountTotalMonthBs]="mountTotalMonthBs"
            [subscription]="subscription"
            [monthPayCount]="monthPayCount"

            (totalBs)="mountsToPaymentBs($event)"
            (totalUSD)="mountsToPaymentUSD($event)"
          ></app-unique-payment>
          <!-- END UNIQUE PAYMENT -->

          <!-- <div class="payment-menu-months">
            <h4 class="text-4xl font-bold mb-4 text-center">Seleccione los meses a pagar</h4>
            <div class="payment-menu-months-grid">

                <div *ngFor="let item of [1,2,3,4,5,6];let i = index" (click)="setMonthPayment(item)" class="payment-grid-item bg-primary-gradient" [ngClass]="{'payment-grid-item-active': activePaymentMonth === item}">
                  {{item}} {{( item > 1 ? 'Meses' : 'Mes' )}}
                </div>

            </div>
          </div> -->


          <!-- <div class="payment-menu-item">


            <div class="mount-pay-container flex flex-col justify-center items-center">
              <h4>Monto:</h4>
              <div class="payment-menu-mount-section">
                <h1 class="payment-mount-small"> {{mountTotalMonthBs}} &nbsp; <small>Bs</small></h1>
                <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="evenodd" d="M10.47 2.22a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1 0 1.06l-2.25 2.25a.75.75 0 1 1-1.06-1.06l.97-.97H5.75a.75.75 0 0 1 0-1.5h5.69l-.97-.97a.75.75 0 0 1 0-1.06m-4.94 6a.75.75 0 0 1 0 1.06l-.97.97h5.69a.75.75 0 0 1 0 1.5H4.56l.97.97a.75.75 0 1 1-1.06 1.06l-2.25-2.25a.75.75 0 0 1 0-1.06l2.25-2.25a.75.75 0 0 1 1.06 0" clip-rule="evenodd"/></svg>
                <h1> {{mountTotalMonthUSD}} &nbsp; <small>USD</small></h1>
              </div>

            </div>


          </div> -->


        </div>

        <button
        class="form-control-btn w-44 mx-auto payment-menu-success-btn" type="button" role="button"
        (click)="handleShowTransactionModal(true)" [disabled]="monthPayCount<1">
          Pagar
          <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd"><path d="M24 0v24H0V0zM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.019-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"/><path fill="currentColor" d="M16.06 10.94a1.5 1.5 0 0 1 0 2.12l-5.656 5.658a1.5 1.5 0 1 1-2.121-2.122L12.879 12L8.283 7.404a1.5 1.5 0 0 1 2.12-2.122l5.658 5.657Z"/></g></svg>
        </button>

      </div>
      <!-- END PAYMENT CARDS STEP -->

      <!-- PAYMENT CREDITO / DEBITO FORM -->
      <div *ngIf="navActive === ENUM_NAV.PAYMENT_FORMS && DebitoCreditoboolean" class="section-step-item txt-dark">

        <div *ngIf="!ReciboPay" class="animated fadeInUp">
          <div *ngIf="
              nameClient &&
              saldoBs &&
              saldoUSD &&
              registerPayService.linkedToContractProcess != 'approved'
            " class="desc-user">
            <div>
              <h4 class="name-client">
                <!-- {{ nameClient }} -->
              </h4>
              <h4 class="name-client">
                {{ saldoUSD | negativeAmount }} USD |
                {{ saldoBs | negativeAmount }} Bs {{ saldoText }}
              </h4>
            </div>
            <div>
              <h4 class="name-client">Servicio: {{ paquete }}</h4>
              <h4 class="name-client">Suscripción: {{ subscription }} USD</h4>
            </div>
          </div>

          <div *ngIf="
              nameClient &&
              saldoBs &&
              saldoUSD &&
              registerPayService.linkedToContractProcess == 'approved'
            " class="desc-user">
            <div>
              <h4 class="name-client">CI/RIF: {{ nameClient }}</h4>
              <h4 class="name-client">
                Monto a Pagar: {{ saldoUSD | negativeAmount }} USD |
                {{ saldoBs | negativeAmount }} Bs
              </h4>
            </div>
          </div>

          <br>
          <button type="button" class="grid-cards-item forma-pago ng-star-inserted  btn-card-customized-1">
            Pagar
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
              class="bi bi-credit-card-fill" viewBox="0 0 16 16">
              <path
                d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v1H0zm0 3v5a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7zm3 2h1a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1" />
            </svg>
          </button>

          <!-- <button *ngIf="!ShowFormDebitoCreditoBNC && !ShowFormDebito100x100" class="customized_btn_next" [ngClass]="{
              'btn-width-30': ShowFormDebitoCredito,
              width_full: !ShowFormDebitoCredito
            }" (click)="ScrollUp($event); ResetFormCD()" type="button" matStepperPrevious>
            Regresar
          </button> -->
        </div>
      </div>
      <!-- / END PAYMENT CREDITO / DEBITO FORM -->


      <!-- Transferencias -->
      <div *ngIf="
          !ConsultarPagoMovilboolean &&
          !DebitoCreditoboolean &&
          !RegistrarPagoMovilboolean &&
          AppFibex &&
          !Criptomoneda &&
          !Otros &&
          !PrimeraVez &&
          !showDniForm
        " class="section-step-item">
        <ng-container *ngIf="
            possibleWithholdingAgent && selectedRetentionOption == 2 && !Kiosco
          ">
        </ng-container>

        <div>
          <ng-template matStepLabel>Confirmación</ng-template>
          <div class="spinner-pay" *ngIf="sendingPay">
            <mat-spinner></mat-spinner>
          </div>

          <h2 class="message-warning" *ngIf="!sendingPay">
            Por favor verifique sus datos y confirme la operación.
          </h2>
          <div class="card-pay">
            <div class="invoice-box">
              <table cellpadding="0" cellspacing="0">
                <tr class="top">
                  <td colspan="2">
                    <table>
                      <tr>
                        <td class="title">
                          <img src="https://crm.thomas-talk.me/uploads/company/9a837ebc624921b826b5e1687f9001c6.png"
                            style="width: 60%; max-width: 300px" />
                        </td>

                        <td>
                          Creada en: {{ dateToDay | date : "dd/MM/yyyy" }}<br />
                        </td>
                      </tr>
                    </table>
                  </td>
                </tr>

                <tr class="information">
                  <td colspan="2">
                    <table>
                      <tr>
                        <td>
                          Servicio: {{ paquete }}<br />
                          Suscripción: {{ subscription }} USD <br />
                          Monto pendiente: {{ saldoUSD | negativeAmount }} USD |
                          {{ saldoBs | negativeAmount }} Bs<br />
                          <strong>Banco receptor: {{ bank?.value }}</strong>
                        </td>

                        <td>
                          {{ nameClient }}<br />
                          DNI/RIF {{ dni?.value }}<br />
                          {{ email?.value }}
                        </td>
                      </tr>
                    </table>
                  </td>
                </tr>

                <tr class="heading">
                  <td>Usted va reportar un pago de</td>

                  <td>Monto #</td>
                </tr>

                <tr class="details">
                  <td>{{ paquete }}</td>

                  <td *ngIf="BancoNacional(bank?.value) != 'EUR'">
                    {{ totalAmount }}
                    {{ BancoNacional(bank?.value) ? "Bs." : "USD" }}
                  </td>
                  <td *ngIf="BancoNacional(bank?.value) == 'EUR'">
                    {{ totalAmount }} EUR
                  </td>
                </tr>

                <tr class="total">
                  <td></td>

                  <td *ngIf="BancoNacional(bank?.value) != 'EUR'">
                    Total: {{ totalAmount }}
                    {{ BancoNacional(bank?.value) ? "Bs." : "USD" }}
                  </td>
                  <td *ngIf="BancoNacional(bank?.value) == 'EUR'">
                    Total: {{ totalAmount }} EUR
                  </td>
                </tr>
              </table>
            </div>
          </div>
          <div class="btn-flex-center">
            <button class="button-material-next btn-width-70" mat-raised-button (click)="savePaymentV2()"
              [disabled]="DisableReg || showMessageErrorUpload">
              Reportar pago
            </button>
            <button class="button-material-back btn-width-30" mat-raised-button (click)="resetStepper()">
              Editar datos
            </button>
          </div>
        </div>
      </div>
      <!-- / Fin de Transferencias -->

      <!-- Crédito o Débito -->
      <!-- <div *ngIf="DebitoCreditoboolean" class="section-step-item">

        <div *ngIf="!ReciboPay">
          <div *ngIf="
              nameClient &&
              saldoBs &&
              saldoUSD &&
              registerPayService.linkedToContractProcess != 'approved'
            " class="desc-user">
            <div>
              <h4 class="name-client">
                {{ nameClient }}
              </h4>
              <h4 class="name-client">
                {{ saldoUSD | negativeAmount }} USD |
                {{ saldoBs | negativeAmount }} Bs {{ saldoText }}
              </h4>
            </div>
            <div>
              <h4 class="name-client">Servicio: {{ paquete }}</h4>
              <h4 class="name-client">Suscripción: {{ subscription }} USD</h4>
            </div>
          </div>
          <div *ngIf="
              nameClient &&
              saldoBs &&
              saldoUSD &&
              registerPayService.linkedToContractProcess == 'approved'
            " class="desc-user">
            <div>
              <h4 class="name-client">CI/RIF: {{ nameClient }}</h4>
              <h4 class="name-client">
                Monto a Pagar: {{ saldoUSD | negativeAmount }} USD |
                {{ saldoBs | negativeAmount }} Bs
              </h4>
            </div>
          </div>

          <br>
          <button type="button" class="grid-cards-item forma-pago ng-star-inserted" (click)="_requestCard()">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
              class="bi bi-credit-card-fill" viewBox="0 0 16 16">
              <path
                d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v1H0zm0 3v5a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7zm3 2h1a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1" />
            </svg>
            Pagar
          </button>
          <br><br>

          <button *ngIf="!ShowFormDebitoCreditoBNC && !ShowFormDebito100x100" class="customized_btn_next" [ngClass]="{
              'btn-width-30': ShowFormDebitoCredito,
              width_full: !ShowFormDebitoCredito
            }" (click)="ScrollUp($event); ResetFormCD()" type="button" matStepperPrevious>
            Regresar
          </button>
        </div>
      </div> -->
      <!-- / Fin de Crédito o Débito -->

      <div *ngIf="ShowFormDebito100x100" class="section-step-item">
        <ng-template matStepLabel>Débito inmediato</ng-template>
        <div *ngIf="!ReciboPay">
          <div *ngIf="
              nameClient &&
              saldoBs &&
              saldoUSD &&
              registerPayService.linkedToContractProcess != 'approved'
            " class="desc-user">
            <div>
              <h4 class="name-client">
                {{ nameClient }}
              </h4>
              <h4 class="name-client">
                {{ saldoUSD | negativeAmount }} USD |
                {{ saldoBs | negativeAmount }} Bs {{ saldoText }}
              </h4>
            </div>
            <div>
              <h4 class="name-client">Servicio: {{ paquete }}</h4>
              <h4 class="name-client">Subscripción: {{ subscription }} USD</h4>
            </div>
          </div>
          <div *ngIf="
              nameClient &&
              saldoBs &&
              saldoUSD &&
              registerPayService.linkedToContractProcess == 'approved'
            " class="desc-user">
            <div>
              <h4 class="name-client">CI/RIF: {{ nameClient }}</h4>
              <h4 class="name-client">
                Monto a Pagar: {{ saldoUSD | negativeAmount }} USD |
                {{ saldoBs | negativeAmount }} Bs
              </h4>
            </div>
          </div>

          <!-- !Creditoboolaean en false para solo mostrarlo para pago en debito-->
          <app-debito-100x100 [DNI]="this.dni?.value" [SaldoBS]="saldoBs" [Abonado]="nroContrato?.value"
            [Contrato]="idContrato" (OutputResponse)="OutputDebito100x100($event)"></app-debito-100x100>
        </div>
        <div *ngIf="ReciboPay">
          <app-table-receipt [cantidad]="montoDebito100"></app-table-receipt>
        </div>

        <div *ngIf="ReciboPay" fxLayout="row" fxLayoutAlign="center center" class="btn-flex-center">
          <button class="button-material-back btn-width-30" (click)="
              ResetFormCD(); lastDni = ''; searchServicesv2(dni, false, false)
            " mat-raised-button type="button" matStepperPrevious>
            Regresar
          </button>
        </div>
      </div>

    </div>
  </div>
</form>

<app-info-pay *ngIf="showStateTable" [stateTableData]="stateTableData" [showStateTable]="showStateTable"
  (closeEvent)="showStateTable = false"></app-info-pay>


<!-- MODAL DE TRANSACCION DEL PAGO -->
<app-modal-payment *ngIf="showTransactionModal"
  [paymentType]="selectedPaymentType"
  [dniValue]="this.dni?.value"
  [mountValue]="mountTotalMonthBs"
  (closeEmmit)="handleShowTransactionModal(false)"
  (onSubmitPayForm)="resetAllForms()" >
</app-modal-payment>
